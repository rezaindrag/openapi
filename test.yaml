openapi: 3.0.0
info:
  title: Dummy
  description: Dummy
  version: 1.0.0
servers:
  - url: 'http://localhost:3000'
paths:
  '/feed':
    get:
      tags:
        - feed
      summary: Fetch feed
      operationId: fetchFeed
      responses:
        '200':
          description: Returns feed.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Feed'
  '/feed-home':
    get:
      tags:
        - feedHome
      summary: Fetch feed home
      operationId: fetchFeedHome
      responses:
        '200':
          description: Returns feed.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FeedHome'
components:
  schemas:
    Test:
      type: object
      additionalProperties: {}
    FeedHome:
      type: 'object'
      oneOf:
        - $ref: '#/components/schemas/Article'
        - $ref: '#/components/schemas/PersonHome'
      discriminator:
        propertyName: 'type'
        mapping:
          article: '#/components/schemas/Article'
          person: '#/components/schemas/PersonHome'
    Feed:
      type: 'object'
      oneOf:
        - $ref: '#/components/schemas/Article'
        - $ref: '#/components/schemas/Person'
      discriminator:
        propertyName: 'type'
        mapping:
          article: '#/components/schemas/Article'
          person: '#/components/schemas/Person'
    Article:
      type: object
      properties:
        type:
          type: string
          example: article
        title:
          type: string
          example: Article title
      required:
        - type
    Person:
      type: object
      properties:
        type:
          type: string
          example: person
        name:
          type: string
          example: Person name
      required:
        - type
    PersonHome:
      type: object
      properties:
        type:
          type: string
          example: person
        first_name:
          type: string
          example: Person first name
        last_name:
          type: string
          example: Person last name
      required:
        - type
